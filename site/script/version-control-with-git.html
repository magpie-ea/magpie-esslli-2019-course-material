<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Version control with git | Primer on replication, preregistration and open science through browser-based experiments in _magpie</title>
  <meta name="description" content="This is the material for a course on implementation, design and deployment of browser-based experiments using _magpie, as part of ESSLLI 2019 (Riga, Latvia)." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Version control with git | Primer on replication, preregistration and open science through browser-based experiments in _magpie" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the material for a course on implementation, design and deployment of browser-based experiments using _magpie, as part of ESSLLI 2019 (Riga, Latvia)." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Version control with git | Primer on replication, preregistration and open science through browser-based experiments in _magpie" />
  
  <meta name="twitter:description" content="This is the material for a course on implementation, design and deployment of browser-based experiments using _magpie, as part of ESSLLI 2019 (Riga, Latvia)." />
  

<meta name="author" content="Michael Franke" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="countermeasures.html">
<link rel="next" href="basics-of-magpie.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Open science with _magpie</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About this book</a></li>
<li class="chapter" data-level="2" data-path="empirical-research.html"><a href="empirical-research.html"><i class="fa fa-check"></i><b>2</b> Potential problems with empirical science</a><ul>
<li class="chapter" data-level="2.1" data-path="empirical-research.html"><a href="empirical-research.html#objective-evidence"><i class="fa fa-check"></i><b>2.1</b> Objective evidence</a></li>
<li class="chapter" data-level="2.2" data-path="empirical-research.html"><a href="empirical-research.html#observation-vs.manipulation"><i class="fa fa-check"></i><b>2.2</b> Observation vs. manipulation</a></li>
<li class="chapter" data-level="2.3" data-path="empirical-research.html"><a href="empirical-research.html#the-publication-generating-process"><i class="fa fa-check"></i><b>2.3</b> The publication-generating process</a></li>
<li class="chapter" data-level="2.4" data-path="empirical-research.html"><a href="empirical-research.html#researcher-degrees-of-freedom"><i class="fa fa-check"></i><b>2.4</b> Researcher degrees of freedom</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="countermeasures.html"><a href="countermeasures.html"><i class="fa fa-check"></i><b>3</b> Countermeasures</a><ul>
<li class="chapter" data-level="3.1" data-path="countermeasures.html"><a href="countermeasures.html#direct-replication"><i class="fa fa-check"></i><b>3.1</b> Direct replication</a></li>
<li class="chapter" data-level="3.2" data-path="countermeasures.html"><a href="countermeasures.html#preregistration"><i class="fa fa-check"></i><b>3.2</b> Preregistration</a></li>
<li class="chapter" data-level="3.3" data-path="countermeasures.html"><a href="countermeasures.html#open-science"><i class="fa fa-check"></i><b>3.3</b> Open Science</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="version-control-with-git.html"><a href="version-control-with-git.html"><i class="fa fa-check"></i><b>4</b> Version control with <code>git</code></a><ul>
<li class="chapter" data-level="4.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#working-with-a-local-repository"><i class="fa fa-check"></i><b>4.1</b> Working with a local repository</a><ul>
<li class="chapter" data-level="4.1.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#creating-a-repository"><i class="fa fa-check"></i><b>4.1.1</b> Creating a repository</a></li>
<li class="chapter" data-level="4.1.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#adding-a-file"><i class="fa fa-check"></i><b>4.1.2</b> Adding a file</a></li>
<li class="chapter" data-level="4.1.3" data-path="version-control-with-git.html"><a href="version-control-with-git.html#add-another-file"><i class="fa fa-check"></i><b>4.1.3</b> Add another file</a></li>
<li class="chapter" data-level="4.1.4" data-path="version-control-with-git.html"><a href="version-control-with-git.html#seeing-current-changes"><i class="fa fa-check"></i><b>4.1.4</b> Seeing current changes</a></li>
<li class="chapter" data-level="4.1.5" data-path="version-control-with-git.html"><a href="version-control-with-git.html#seeing-changes-between-commits"><i class="fa fa-check"></i><b>4.1.5</b> Seeing changes between commits</a></li>
<li class="chapter" data-level="4.1.6" data-path="version-control-with-git.html"><a href="version-control-with-git.html#undoing-staging"><i class="fa fa-check"></i><b>4.1.6</b> Undoing staging</a></li>
<li class="chapter" data-level="4.1.7" data-path="version-control-with-git.html"><a href="version-control-with-git.html#undoing-local-changes"><i class="fa fa-check"></i><b>4.1.7</b> Undoing local changes</a></li>
<li class="chapter" data-level="4.1.8" data-path="version-control-with-git.html"><a href="version-control-with-git.html#going-back-in-time"><i class="fa fa-check"></i><b>4.1.8</b> Going back in time</a></li>
<li class="chapter" data-level="4.1.9" data-path="version-control-with-git.html"><a href="version-control-with-git.html#branching"><i class="fa fa-check"></i><b>4.1.9</b> Branching</a></li>
<li class="chapter" data-level="4.1.10" data-path="version-control-with-git.html"><a href="version-control-with-git.html#merging"><i class="fa fa-check"></i><b>4.1.10</b> Merging</a></li>
<li class="chapter" data-level="4.1.11" data-path="version-control-with-git.html"><a href="version-control-with-git.html#resolving-merge-conflicts"><i class="fa fa-check"></i><b>4.1.11</b> Resolving merge conflicts</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#working-with-a-remote-repository"><i class="fa fa-check"></i><b>4.2</b> Working with a remote repository</a><ul>
<li class="chapter" data-level="4.2.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#creating-and-linking-the-remote-repository"><i class="fa fa-check"></i><b>4.2.1</b> Creating and linking the remote repository</a></li>
<li class="chapter" data-level="4.2.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#pushing-and-pulling"><i class="fa fa-check"></i><b>4.2.2</b> Pushing and pulling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basics-of-magpie.html"><a href="basics-of-magpie.html"><i class="fa fa-check"></i><b>5</b> Basics of _magpie</a></li>
<li class="chapter" data-level="6" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html"><i class="fa fa-check"></i><b>6</b> Case study on acceptability of indicative conditionals</a><ul>
<li class="chapter" data-level="6.1" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html#theoretical-background"><i class="fa fa-check"></i><b>6.1</b> Theoretical background</a></li>
<li class="chapter" data-level="6.2" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html#the-adams-family"><i class="fa fa-check"></i><b>6.2</b> “The Adams family”</a><ul>
<li class="chapter" data-level="6.2.1" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html#design-materials"><i class="fa fa-check"></i><b>6.2.1</b> Design &amp; Materials</a></li>
<li class="chapter" data-level="6.2.2" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html#hypotheses-statistical-analyses"><i class="fa fa-check"></i><b>6.2.2</b> Hypotheses &amp; statistical analyses</a></li>
<li class="chapter" data-level="6.2.3" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html#results"><i class="fa fa-check"></i><b>6.2.3</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="case-study-on-acceptability-of-indicative-conditionals.html"><a href="case-study-on-acceptability-of-indicative-conditionals.html#replication-of-douvenverbrugge2010the-adams-famil"><i class="fa fa-check"></i><b>6.3</b> Replication of <span class="citation">Douven and Verbrugge (<span>2010</span>)</span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="deployment-of-magpie-experiments.html"><a href="deployment-of-magpie-experiments.html"><i class="fa fa-check"></i><b>7</b> Deployment of _magpie experiments</a></li>
<li class="chapter" data-level="8" data-path="advanced-features-of-magpie.html"><a href="advanced-features-of-magpie.html"><i class="fa fa-check"></i><b>8</b> Advanced features of _magpie</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Primer on replication, preregistration and open science through browser-based experiments in _magpie</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="version-control-with-git" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Version control with <code>git</code></h1>
<p>Experimental work is usually done in a team. When you work with others (and this usually includes past and future versions of yourself) it is good practice to be tidy. You want to be able to access the latest version of your work immediately. You want to be able to work in parallel, without corrupting your teammates’ work. When conflicts arise, you want to solve them easily.</p>
<p>What you should not do, at least if you want to work with me, is send files per email, or have a shared Dropbox folder that looks like this (“aktuelle_version” means “current version”):</p>
<p><img src="pics/folder_structure_bad_example.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A much better solution for tidy cooperationi is to use a <strong>version control system</strong>. A currently very popular instance of VC is <code>git</code>. There are many great introductions to <code>git</code>, textbased and videos. Have your pick! There are GUIs and Apps for your smartphone. That’s impressive, but I recommend using the command line, or built-in functions in your favorite text editor.</p>
<p>The most important thing you need to know about <code>git</code> for this course, is that <code>git</code> keeps a remote copy and as many local copies as you want of the complete history of your project, called <strong>repository</strong>. When you make changes locally during your work, you first tell your local repository that these changes are to stay for good: you “commit to them”. When you start working you first “synchronize” your local copy of the repository with the remote, by “pulling” the latest changes to your own machine.</p>
<p>For this course, we will really only need the basic commands:</p>
<ul>
<li><code>git clone</code> :: to “download” a local copy of an online repository, if you do not already have one</li>
<li><code>git pull</code> :: to “update” your local copy, e.g., after others have made changes</li>
<li><code>git add</code> :: to stage changes or files for the next commit</li>
<li><code>git commit</code> :: to, well, commit yourself to the currently staged changes</li>
<li><code>git push</code> :: to to “upload” your changes, so others can pull them</li>
</ul>
<p>The basic workflow and its main concepts are summarized here:</p>
<p><img src="pics/git_basic_notions.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="working-with-a-local-repository" class="section level2">
<h2><span class="header-section-number">4.1</span> Working with a local repository</h2>
<div id="creating-a-repository" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Creating a repository</h3>
<ul>
<li>open a command line tool</li>
<li>create a folder of your choice
<ul>
<li>e.g., <code>mkdir my_first_git</code></li>
</ul></li>
</ul>
</div>
<div id="adding-a-file" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Adding a file</h3>
<ul>
<li>go to this directory and initialize
<ul>
<li>e.g., <code>cd my_first_git &amp;&amp; git init</code></li>
</ul></li>
<li>add a file called <code>mynotes.md</code> to the directory</li>
<li>open the file with a text editor</li>
<li>type some markdown &amp; save the file
<ul>
<li>make sure to write several lines</li>
</ul></li>
<li>inspect the status with <code>git status</code></li>
<li>add the file to version control with <code>git add mynotes.md</code></li>
<li>inspect the status with <code>git status</code> again</li>
<li>now commit your changes with <code>git commit -m &quot;my first commit&quot;</code></li>
<li>inspect the status with <code>git status</code> again</li>
<li>look at the log history of your repo with <code>git log</code></li>
</ul>
</div>
<div id="add-another-file" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Add another file</h3>
<ul>
<li>create another file called <code>mynotes_2.md</code></li>
<li>fill in some content of your choice</li>
<li>add it to version control using the same procedure as before</li>
</ul>
</div>
<div id="seeing-current-changes" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Seeing current changes</h3>
<ul>
<li>make some edits to <code>mynotes.md</code>
<ul>
<li>add text in some lines</li>
<li>delete some text in existing lines</li>
</ul></li>
<li>inspect the status with <code>git status</code>
<ul>
<li>this tells you which files changed, but not how exactly</li>
</ul></li>
<li>type <code>git diff mynotes.md</code> to see changes between last commit &amp; current version</li>
<li>commit these changes</li>
<li>type <code>git diff mynotes.md</code> again</li>
</ul>
</div>
<div id="seeing-changes-between-commits" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Seeing changes between commits</h3>
<ul>
<li>you can see what changed <strong>in all files</strong> from COMMIT-1 to COMMIT-2 by typing <code>git diff mynotes.md COMMIT-1 COMMIT-2</code>
<ul>
<li>here COMMIT-x is the commit ID (which you find in the output of <code>git log</code>)</li>
</ul></li>
<li>zoom in on changes in file <code>mynotes.md</code> with <code>git diff mynotes.md COMMIT-1 COMMIT-2 -- mynotes.md</code></li>
<li>type <code>git log -p mynotes.md</code> to get a full change history of file <code>mynotes.md</code></li>
</ul>
</div>
<div id="undoing-staging" class="section level3">
<h3><span class="header-section-number">4.1.6</span> Undoing staging</h3>
<ul>
<li>make changes to your file <code>mynotes.md</code></li>
<li>stage the changes with <code>git add mynotes.md</code></li>
<li>look at <code>git status</code> (boring!)</li>
<li>to unstage these changes type <code>git reset mynotes.md</code></li>
<li>look at <code>git status</code> again</li>
<li>check whether your changes got lost (using what you learned above)</li>
</ul>
</div>
<div id="undoing-local-changes" class="section level3">
<h3><span class="header-section-number">4.1.7</span> Undoing local changes</h3>
<div id="single-files" class="section level4">
<h4><span class="header-section-number">4.1.7.1</span> Single files</h4>
<ul>
<li>type <code>git checkout mynotes.md</code> to undo your recent local changes</li>
<li>check the status and the diff between local file and last commit</li>
</ul>
</div>
<div id="whole-repo" class="section level4">
<h4><span class="header-section-number">4.1.7.2</span> Whole repo</h4>
<ul>
<li>change both of your files &amp; inspect the status</li>
<li>type <code>git reset --hard</code> to undo all local changes</li>
<li>inspect status to verify</li>
</ul>
</div>
</div>
<div id="going-back-in-time" class="section level3">
<h3><span class="header-section-number">4.1.8</span> Going back in time</h3>
<ul>
<li>retrieve the (shortened) commit ID of your first commit by <code>git log --oneline</code></li>
<li>type <code>git checkout FIRST-COMMIT-ID</code> to roll back complete to where you were in the beginning</li>
</ul>
</div>
<div id="branching" class="section level3">
<h3><span class="header-section-number">4.1.9</span> Branching</h3>
<ul>
<li>so far our history of developments was linear; it’s time to change that</li>
<li>create a new branch with <code>git branch silly_try</code></li>
<li>switch to that new branch with <code>git checkout silly_try</code></li>
<li>add one or more lines with text at the beginning (!) of <code>mynotes.md</code>
<ul>
<li>don’t change anything else in the file!</li>
</ul></li>
<li>add &amp; commit the changes with <code>git commit -a -m &quot;changes to a branch&quot;</code></li>
<li>look at your history now with <code>git log --graph --oneline --all</code>
<ul>
<li>we now live in a branching-time universe</li>
<li>different developments of your project live next to each other</li>
</ul></li>
</ul>
</div>
<div id="merging" class="section level3">
<h3><span class="header-section-number">4.1.10</span> Merging</h3>
<ul>
<li>we will now parallel universes together</li>
<li>switch back to the master branch with <code>git checkout master</code></li>
<li>merge the changes into the master branch with <code>git merge silly_try</code>
<ul>
<li>if we are lucky git will merge automatically</li>
<li>if not, there will be so-called merge conflicts</li>
<li>if you have merge conflicts, you will need to resolve them manually</li>
</ul></li>
<li>commit your changes with <code>git commit -a -m &quot;merged in branch silly_try&quot;</code></li>
<li>have a look at your history with <code>git log --graph --oneline --all</code></li>
</ul>
</div>
<div id="resolving-merge-conflicts" class="section level3">
<h3><span class="header-section-number">4.1.11</span> Resolving merge conflicts</h3>
<ul>
<li>when a conflict occurs and git cannot merge automatically, it creates a new file in which both changes are kept side by side</li>
<li>the user must then decide by hand which changes to keep or how to merge</li>
<li>use will find tools of your taste for doing this by searching the internet</li>
</ul>
</div>
</div>
<div id="working-with-a-remote-repository" class="section level2">
<h2><span class="header-section-number">4.2</span> Working with a remote repository</h2>
<div id="creating-and-linking-the-remote-repository" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Creating and linking the remote repository</h3>
<ul>
<li>create a remote repository, e.g., on GitHub</li>
<li>link your local repo to the global one with <code>git remote add origin YOUR-REPO-URL</code>
<ul>
<li>now <code>origin</code> is the name for your remote repo</li>
</ul></li>
</ul>
</div>
<div id="pushing-and-pulling" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Pushing and pulling</h3>
<ul>
<li><strong>pushing</strong> is when you “upload” local changes</li>
<li><strong>pulling</strong> is when you “download” remote changes
<ul>
<li>merge conflicts can arise just like when merging branches</li>
</ul></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="countermeasures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="basics-of-magpie.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
